@keyframes gradientWave {
    0% { background-position: 0% 50% }
    50% { background-position: 100% 50% }
    100% { background-position: 0% 50% }
}

body {
    font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: 
        linear-gradient(45deg, rgba(14,165,233,0.15) 0%, rgba(99,102,241,0.15) 100%),
        linear-gradient(-45deg, rgba(14,165,233,0.1) 0%, rgba(99,102,241,0.1) 100%),
        linear-gradient(to right, #f6fbff 0%, #eef7ff 100%);
    background-size: 400% 400%, 400% 400%, 100% 100%;
    animation: gradientWave 15s ease infinite;
    margin: 0;
    padding: 20px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow-x: hidden;
}

body::before,
body::after {
    content: '';
    position: absolute;
    inset: -50% -50%;
    background: url("data:image/svg+xml,%3Csvg width='100' height='20' viewBox='0 0 100 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M21.184 20c.357-.13.72-.264 1.088-.402l1.768-.661C33.64 15.347 39.647 14 50 14c10.271 0 15.362 1.222 24.629 4.928.955.383 1.869.74 2.75 1.072h6.225-2.51c-.383-.358-.79-.713-1.225-1.072L73.236 15c-2.15-.808-4.344-1.569-6.57-2.275-2.266-.713-4.551-1.36-6.86-1.932-2.314-.572-4.648-1.072-7.007-1.503-.377-.068-.758-.13-1.137-.195C51.317 9.01 51.12 9 51 9c-.218 0-.456.074-.683.119-.21.064-.42.13-.629.195-1.175.222-2.419.458-3.646.708-2.126.417-4.21.93-6.196 1.547-2.5.778-4.712 1.64-7.043 2.637-3.069 1.31-5.705 2.744-9.67 4.588C23.012 19.133 22.095 19.564 21.184 20zM0 20h21.17c-.386-.407-.775-.81-1.169-1.207l-.304-.31c-1.06-1.088-2.082-2.142-3.157-3.159l-.427-.423c-1.322-1.305-2.694-2.653-4.331-3.94-1.263-.99-2.573-1.96-3.947-2.91-.616-.425-1.245-.844-1.886-1.254C3.036 5.141.429 3.435 0 3.005V20z' fill='%2306b6d4' fill-opacity='.02' fill-rule='evenodd'/%3E%3C/svg%3E") repeat;
    background-size: 100px auto;
    opacity: 0.5;
    animation: waveMove 20s linear infinite;
    pointer-events: none;
    z-index: 0;
}

body::after {
    animation: waveMove 15s linear infinite reverse;
    opacity: 0.3;
    filter: hue-rotate(45deg);
}

@keyframes waveMove {
    0% { transform: translate(0, 0) rotate(0deg); }
    100% { transform: translate(-50px, -50px) rotate(1deg); }
}

main {
    flex: 1;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 0;
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: calc(100vh - 140px); /* account for title and padding */
}

.main-title {
    text-align: center;
    font-size: 2.5rem;
    font-weight: 700;
    color: #0f172a;
    margin: 1rem 0;
    background: linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
    animation: slideDown 0.5s ease-out;
}

.calculator {
  display: grid;
  grid-template-columns: 1fr 420px;
  gap: 28px;
  max-width: 1100px;
  margin: 24px auto;
  align-items: center;
  justify-content: center;
  transform: translateY(-20px); /* offset for vertical centering */
}@keyframes borderRotate {
    0%, 100% { border-image-source: linear-gradient(0deg, #0ea5e9, #6366f1, #06b6d4); }
    25% { border-image-source: linear-gradient(90deg, #06b6d4, #0ea5e9, #6366f1); }
    50% { border-image-source: linear-gradient(180deg, #6366f1, #06b6d4, #0ea5e9); }
    75% { border-image-source: linear-gradient(270deg, #0ea5e9, #6366f1, #06b6d4); }
}

.panel,
.summary {
    background: linear-gradient(180deg, #ffffffcc 0%, #ffffff 100%);
    padding: 22px;
    border-radius: 14px;
    position: relative;
    background-clip: padding-box;
    border: double 2px transparent;
    background-origin: border-box;
    background-image: linear-gradient(180deg, #ffffffcc 0%, #ffffff 100%),
                     linear-gradient(90deg, #0ea5e9, #6366f1, #06b6d4);
    box-shadow: 0 8px 30px rgba(20,40,80,0.06);
    animation: borderRotate 8s linear infinite;
}h2 {
    margin: 0 0 12px 0;
    font-size: 18px;
    font-weight: 600;
    color: #0f172a;
}

label {
    display: block;
    margin: 10px 0;
    color: #334155;
    font-size: 13px;
}

input[type="number"],
select,
input[type="text"] {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid rgba(15,23,42,0.08);
    border-radius: 10px;
    background: #fcfeff;
    transition: box-shadow 160ms ease, transform 160ms ease;
}

/* Input panel layout and controls */
.panel { padding: 20px 22px; }
.form-row { display:flex; gap:12px; align-items:center; margin:10px 0 }
.form-row .label-text { width:120px; color:#475569; font-weight:600 }
.qty-row input { max-width: 160px }

/* custom checkbox */
.checkbox { display:flex; align-items:center; gap:10px; cursor:pointer; user-select:none }
.checkbox input { appearance:none; width:18px; height:18px; margin:0; position:relative }
.checkbox .chk { width:18px; height:18px; border-radius:6px; background:#fff; border:1px solid rgba(15,23,42,0.08); display:inline-block; box-shadow:0 2px 6px rgba(2,6,23,0.03); transition: all 180ms ease }
.checkbox input:checked + .chk { background: linear-gradient(90deg,#06b6d4,#6366f1); border:none; transform: scale(1.02) }
.checkbox .chk::after { content:''; display:block; width:6px; height:8px; margin:3px 0 0 4px; opacity:0; transform: translateY(-2px); transition: all 180ms ease; border: 2px solid white; border-top: 0; border-left: 0; }
.checkbox input:checked + .chk::after { opacity:1; transform: translateY(0) rotate(40deg) }
.checkbox .text { color:#0f172a; font-size:13px }

/* toggle switch */
.toggle { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:14px }
.toggle .text { font-weight:600; color:#334155 }
.toggle input { appearance:none; width:44px; height:26px; border-radius:20px; background: #e6eef9; position:relative; outline:none; cursor:pointer; transition: background 180ms ease }
.toggle .slider { width:44px; height:26px; position:relative; display:inline-block }
.toggle .slider::before { content:''; position:absolute; top:3px; left:3px; width:20px; height:20px; border-radius:50%; background:white; box-shadow:0 4px 12px rgba(2,6,23,0.08); transition: transform 200ms cubic-bezier(.2,.9,.2,1) }
.toggle input:checked + .slider::before { transform: translateX(18px) }
.toggle input:checked { background: linear-gradient(90deg,#06b6d4,#6366f1) }

/* small helpers for focus */
input:focus, select:focus, .checkbox input:focus, .toggle input:focus { box-shadow: 0 8px 20px rgba(99,102,241,0.08) }

input[type="number"]:focus,
select:focus {
    outline: none;
    box-shadow: 0 6px 20px rgba(14,165,233,0.12);
    transform: translateY(-2px);
}

fieldset {
    border: 0;
    padding: 0;
    margin: 8px 0 0 0;
}

fieldset legend {
    font-weight: 600;
    margin-bottom: 8px;
}

fieldset label {
    margin: 6px 0;
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
}

.switch {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 14px;
}

.summary {
    position: relative;
    overflow: hidden;
}

.total {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 12px 14px;
    border-radius: 12px;
    background: linear-gradient(90deg,#0ea5e9 0%,#6366f1 100%);
    color: white;
    box-shadow: 0 8px 30px rgba(99,102,241,0.18);
}

.total .total-label {
    font-size: 12px;
    opacity: 0.95;
}

.total .amount {
    font-size: 28px;
    font-weight: 700;
    letter-spacing: -0.02em;
}

.breakdown {
    list-style: none;
    padding: 12px 0 0 0;
    margin: 0;
}

.breakdown li {
    display: flex;
    justify-content: space-between;
    gap: 12px;
    padding: 8px 6px;
    border-radius: 8px;
    margin-bottom: 8px;
    background: rgba(2,6,23,0.02);
    transform-origin: left center;
    opacity: 0;
    transform: translateX(-8px) scale(0.995);
}

.breakdown li.show {
    animation: reveal 360ms cubic-bezier(.22,.9,.18,1) forwards;
}

@keyframes reveal {
    to { opacity: 1; transform: translateX(0) scale(1); }
}

.breakdown li span:first-child { color:#0f172a; font-size:13px }
.breakdown li span:last-child { color:#0b815a; font-weight:600 }

/* small responsive tweak */
@keyframes slideDown {
    from { transform: translateY(-20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

/* Responsive Styles */
.panel:hover,
.summary:hover {
    transform: translateY(-2px);
    transition: transform 0.3s ease;
}

/* Enhance calculator layout */
.calculator {
    margin: 0 auto;
    width: 100%;
}

@media (max-width: 1024px) {
    main { 
        padding: 10px;
        min-height: calc(100vh - 100px);
    }
    .calculator { gap: 20px }
}

@media (max-width: 880px) {
    .main-title { font-size: 2rem }
    .calculator { 
        grid-template-columns: 1fr; 
        padding: 0; 
        gap: 16px;
    }
    .panel, .summary { padding: 16px }
    .form-row { flex-direction: column; align-items: stretch; gap: 8px }
    .form-row .label-text { width: auto }
    .qty-row input { max-width: 100% }
}

@media (max-width: 480px) {
    body { padding: 12px }
    .main-title { font-size: 1.75rem }
    .panel, .summary { padding: 14px }
    h2 { font-size: 16px }
    .total .amount { font-size: 24px }
}/* subtle pulse when total changes */
.total.pulse { animation: pulse 560ms ease; }
@keyframes pulse { 0% { transform: translateY(0) scale(1) } 50% { transform: translateY(-4px) scale(1.02)} 100% { transform: translateY(0) scale(1)} }
